<div class="dropdown">
  <button class="btn btn-light border-secondary btn-sm dropdown-toggle" type="button" id="dropdownMenuButton"
    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Filter: {{filterCategory}}
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item" href="/filter?category=全部">全部</a>
    {{#each categories}}
    <a class="dropdown-item" href="/filter?category={{this.category}}">{{this.category}}</a>
    {{/each}}
  </div>
</div>

<h1>total amount:</h1>
<h1 class="totalAmount"></h1>

{{#each records}}
<div>
  <span>{{this.category}}</span>
  <span>{{this.name}}</span>
  <span>{{this.date}}</span>
  <span class="amount">{{this.amount}}</span>
  <a href="/edit/{{this._id}}">edit</a>
  <button class="btn btn-info" type="button" data-toggle="modal" data-target="#id-{{this._id}}"
    style="display: inline;">delete</button>
</div>

<!-- Modal -->
<div class="modal fade" id="id-{{this._id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">確定要刪除？</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <form action="/delete/{{ this._id }}" method="POST" style="display: inline;">
          <button type="submit" class="btn btn-info">Yes</button>
        </form>
      </div>
    </div>
  </div>
</div>
{{/each}}

<a href="/new">create</a>

<script src="/javascripts/index.js"></script>